#!/bin/bash

# Be sure to set a value for each of the CHANGEME* variables before executing

# Vsphere
CHANGEME_VSPHERE=
CHANGEME_DATACENTER=
CHANGEME_CLUSTER=
# Chef
CHANGEME_CHEF_ENV=
CHANGEME_CHEF_ENV_TOOL=
CHANGEME_CHEF_ENV_AMS_TSB=
# Default Network
CHANGEME_DEFAULT_SUFFIX=
CHANGEME_DEFAULT_DOMAIN=
CHANGEME_DEFAULT_DNS_SUFFIX=
# AV
CHANGEME_AV_DATASTORE=
CHANGEME_AV_VLAN=
CHANGEME_AV_PREFIX=
CHANGEME_AV_GATEWAY=
# Zodiac/AMS
CHANGEME_ZODIAC_VLAN=
CHANGEME_ZODIAC_PREFIX=
CHANGEME_ZODIAC_GATEWAY=
# Tools
CHANGEME_TOOLS_VLAN=
CHANGEME_TOOLS_PREFIX=
CHANGEME_TOOLS_GATEWAY=
CHANGEME_TOOLS_DATASTORE=
# Templates
CHANGEME_TEMPLATE_C7=
CHANGEME_PASSWORD_C7=
CHANGEME_TEMPLATE_C65=
CHANGEME_PASSWORD_C65=
# AV/TSB VLAN
CHANGEME_IP_CSM01=
CHANGEME_IP_CSM02=
CHANGEME_IP_CSM03=
CHANGEME_IP_PXY01=
CHANGEME_IP_PXY02=
CHANGEME_IP_PXY03=
CHANGEME_IP_PXY04=
CHANGEME_IP_VMS01=
CHANGEME_IP_VMS02=
CHANGEME_IP_GPC01=
CHANGEME_IP_GPC02=
CHANGEME_IP_GPC03=
CHANGEME_NAME_DMC01_ETH_A=
CHANGEME_IP_DMC01_ETH_A=
CHANGEME_NAME_DMC01_ETH_B=
CHANGEME_IP_DMC01_ETH_B=
CHANGEME_IP2_DMC01_ETH_AB=
# Zodiac VLAN
CHANGEME_NAME_AMS01=
CHANGEME_IP_AMS01=
CHANGEME_NAME_AMS02=
CHANGEME_IP_AMS02=
CHANGEME_IP_DBHO1=
# Tools VLAN
CHANGEME_IP_NMS01=
CHANGEME_IP_NMS02=
CHANGEME_IP_MRD01=
CHANGEME_IP_MRD02=

if [ -z $1 ]; then
    echo "Arg1 must be provided as path to terraform.tfvars file to update"
    exit 1
fi

for variable in $(compgen -v | grep CHANGEME); do
    sed -i "s~${variable}~${!variable}~" $1
done

